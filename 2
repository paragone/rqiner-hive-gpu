#pragma once

#include <stdint.h>

#if defined(_MSC_VER)
//  Microsoft
#define EXPORT __declspec(dllexport)
#define IMPORT __declspec(dllimport)
#elif defined(__GNUC__)
//  GCC
#define EXPORT __attribute__((visibility("default")))
#define IMPORT
#else
//  do nothing and hope for the best?
#define EXPORT
#define IMPORT
#pragma warning Unknown dynamic link import / export semantics.
#endif

#ifdef __cplusplus
#define NOEXCEPT noexcept
#else
#define NOEXCEPT
#endif

#ifdef __cplusplus
extern "C" {
#endif



EXPORT  void* fishhash_get_context(int full) NOEXCEPT;
// EXPORT union fishhash_hash256 fishhash_kernel(const fishhash_context* ctx, const fishhash_hash512 seed) NOEXCEPT;
// EXPORT union fishhash_hash256 fishhashplus_kernel(const fishhash_context* ctx, const fishhash_hash512 seed) NOEXCEPT;
EXPORT void fishhash_prebuild_dataset(void* ctx, uint32_t numThreads) NOEXCEPT;
EXPORT void fishhash_hash(uint8_t* output, const void* ctx, const uint8_t* header, uint64_t header_size,
                          int enable_fishhashplus) NOEXCEPT;
EXPORT int fishhash_is_fulldata_initialized(void* ctx) NOEXCEPT;

#ifdef __cplusplus
}
#endif
